# To use same cache from each container image, I push each image mannually. 

.PHONY: push
push:
	docker images --no-trunc --format '{{.ID}}' | xargs docker rmi -f # Delete all image on local
	docker build -t suezawa/exploit-example1 example1
	docker build -t suezawa/exploit-exercise1 exercise1
	docker build -t suezawa/exploit-exercise2 exercise2
	docker build -t suezawa/exploit-exercise3 exercise3
	docker push suezawa/exploit-example1
	docker push suezawa/exploit-exercise1
	docker push suezawa/exploit-exercise2
	docker push suezawa/exploit-exercise3
